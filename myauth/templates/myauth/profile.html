{% extends 'myauth/base.html' %}

{% block title %}Профиль - {{ user.username }}{% endblock %}

{% block content %}
    <h2>Профиль пользователя {{ user.username }}</h2>

    <div class="data-block">
        <h3>Основная информация</h3>
        <p><strong>Имя пользователя:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Имя:</strong> {{ user.first_name|default:"Не указано" }}</p>
        <p><strong>Фамилия:</strong> {{ user.last_name|default:"Не указано" }}</p>
        <p><strong>Дата регистрации:</strong> {{ user.date_joined|date:"d.m.Y" }}</p>
    </div>

    <div class="data-block">
        <h3>Дополнительная информация</h3>
        <p><strong>О себе:</strong> {{ profile.bio|default:"Не указано" }}</p>
        <p><strong>Дата рождения:</strong> {{ profile.birth_date|date:"d.m.Y"|default:"Не указано" }}</p>
        <p><strong>Телефон:</strong> {{ profile.phone|default:"Не указано" }}</p>
    </div>

    <div class="data-block">
        <h3>Права доступа</h3>
        <p><strong>Суперпользователь:</strong> {{ user.is_superuser|yesno:"Да,Нет" }}</p>
        <p><strong>Может создавать продукты:</strong> {{ perms.shopapp.add_product|yesno:"Да,Нет" }}</p>
        <p><strong>Может редактировать продукты:</strong> {{ perms.shopapp.change_product|yesno:"Да,Нет" }}</p>
        <p><strong>Созданных продуктов:</strong> {{ user.created_products.count }}</p>
    </div>

    <p>
        <a href="{% url 'myauth:profile_edit' %}" class="btn">Редактировать профиль</a>
    </p>
{% endblock %}